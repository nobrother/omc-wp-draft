var apps=apps||{};(function($,window,bb,_,apps){_.extend(bb.Validation.callbacks,{valid:function(view,attr,selector){var $el=view.$('[name='+attr+']'),$group=$el.closest('.form-group');$group.removeClass('has-error');$group.find('.help-block').html('').addClass('hidden');},invalid:function(view,attr,error,selector){var $el=view.$('[name='+attr+']'),$group=$el.closest('.form-group');$group.addClass('has-error');$group.find('.help-block').html(error).removeClass('hidden');}});var loginModel=bb.Model.extend({validation:{username:{required:true},password:[{required:true,msg:'Password is required.'}],[{minLength:8,msg:'Password must be at least 8 characters long.'}]}}});var loginView=bb.View.extend({events:{'submit':function(e){e.preventDefault();this.login();}},initialize:function(){bb.Validation.bind(this);},login:function(){var data=this.$el.serializeObject();this.model.set(data);console.log(this.$el);if(this.model.isValid(true)){alert('Great Success!');}},remove:function(){Backbone.Validation.unbind(this);return Backbone.View.prototype.remove.apply(this,arguments);}});$(function(){var view=new loginView({el:'#form-login',model:new loginModel()});});})(jQuery,window,Backbone,_,apps);